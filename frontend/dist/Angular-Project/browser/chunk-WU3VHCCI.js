import{B as i,E as n,Gb as s,Pb as p}from"./chunk-DBZ4JVQV.js";var m=class a{constructor(t){this.http=t}API_URL=p.apiUrl+"/upload";uploadImage(t,e){if(!e)throw new Error("No file provided");if(!e.type.startsWith("image/"))throw new Error("File must be an image");console.log("Uploading image:",{bookId:t,fileName:e.name,fileType:e.type,fileSize:e.size});let o=new FormData;o.append("image",e,e.name),console.log("FormData entries:");for(let r of o.entries())console.log(r[0],r[1]);return this.http.post(`${this.API_URL}/image/${t}`,o,{reportProgress:!1})}uploadPdf(t,e){if(!e)throw new Error("No file provided");if(e.type!=="application/pdf"&&!e.name.toLowerCase().endsWith(".pdf"))throw new Error("File must be a PDF");console.log("Uploading PDF:",{bookId:t,fileName:e.name,fileType:e.type,fileSize:e.size});let o=new FormData;o.append("book",e,e.name),console.log("FormData entries:");for(let r of o.entries())console.log(r[0],r[1]);return this.http.post(`${this.API_URL}/book/${t}`,o,{reportProgress:!1})}static \u0275fac=function(e){return new(e||a)(n(s))};static \u0275prov=i({token:a,factory:a.\u0275fac,providedIn:"root"})};export{m as a};
